<!DOCTYPE html>
<html lang="fa" dir="rtl">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Ù‚ÙˆØ§Ù†ÛŒÙ† Ø§Ø³ØªÙØ§Ø¯Ù‡</title>
  <style>
    body {
      font-family: sans-serif;
      background: #0e1c36;
      color: white;
      padding: 30px;
      display: flex;
      flex-direction: column;
      align-items: center;
      min-height: 100vh;
      margin: 0;
    }
    .profile-img {
      width: 150px;
      height: 150px;
      border-radius: 50%;
      margin-bottom: 0;
      box-shadow: 0 0 20px #00ffff80;
      object-fit: cover;
    }
    .box {
      background: #1a2d4a;
      padding: 25px;
      border-radius: 20px;
      box-shadow: 0 0 20px #00ffff40;
      max-width: 500px;
      text-align: center;
      width: 100%;
    }
    button {
      margin: 10px;
      padding: 10px 25px;
      font-size: 18px;
      border: none;
      border-radius: 12px;
      cursor: pointer;
      color: white;
    }
    .yes {
      background: #00c3ff;
    }
    .no {
      background: #ff4d4d;
    }
    .message-box {
      background: #1a2d4a;
      border-radius: 20px;
      box-shadow: 0 0 20px #00ffff40;
      padding: 30px;
      text-align: center;
      font-size: 20px;
      max-width: 400px;
      margin-top: 30px;
    }
  </style>
</head>
<body>
  <img src="https://poyan77.alfahost.sbs/file.png" alt="Bot Profile" class="profile-img" />
  <p style="color: white; margin: 10px 0 20px 0; font-size: 20px; font-weight: bold;">ğŸ” food center ğŸ”</p>

  <div id="content">
    <div class="box" id="rulesBox">
      <h2>ğŸ“œÙ‚ÙˆØ§Ù†ÛŒÙ† Ø§Ø³ØªÙØ§Ø¯Ù‡ Ø§Ø² Ø±Ø¨Ø§Øª ÙÙˆØ¯ Ø³Ù†ØªØ± ğŸ‘‡</h2>
      <p>ğŸ“ŒÙ…Ø¨Ø§Ù„Øº ÙˆØ§Ø±ÛŒØ²ÛŒ ÙÙ‚Ø· Ø¨Ø±Ø§ÛŒ Ø®Ø±ÛŒØ¯ Ù…Ø­ØµÙˆÙ„Ø§Øª Ø±Ø¨Ø§Øª Ù‡Ø³ØªÙ†Ø¯âœ…</p>
      <p>ğŸ“ŒÙ…ÙˆØ¬ÙˆØ¯ÛŒ Ø±Ø¨Ø§Øª Ù‚Ø§Ø¨Ù„ Ø¨Ø±Ú¯Ø´Øª ÛŒØ§ Ø§Ù†ØªÙ‚Ø§Ù„ Ù†ÛŒØ³Øª âœ…</p>
      <p>ğŸ“ŒÙ‚Ø¨Ù„ Ø§Ø² ÙˆØ§Ø±ÛŒØ² Ùˆ Ø®Ø±ÛŒØ¯ Ø§Ø² ØªØµÙ…ÛŒÙ… Ø®ÙˆØ¯ Ø§Ø·Ù…ÛŒÙ†Ø§Ù† Ø­Ø§ØµÙ„ Ú©Ù†ÛŒØ¯ âœ…</p>
      <p>ğŸ“ŒØ¨ÛŒ Ø§Ø¯Ø¨ÛŒ = Ø¨Ù† Ø¯Ø§Ø¦Ù… Ø§Ø² Ø±Ø¨Ø§Øª âœ…</p>
      <p>ğŸ“ŒØ³Ùˆ Ø§Ø³ØªÙØ§Ø¯Ù‡ ØŒ ÙÛŒØ´ Ø¬Ø¹Ù„ÛŒ ØŒ Ù‡ÙˆÛŒØª Ø¬Ø¹Ù„ÛŒ Ùˆ.... = Ø¨Ù† Ø§Ø² Ø±Ø¨Ø§Øª âœ…</p>
      <p>ğŸ‘¤Ø¨Ø±Ø§ÛŒ Ø±ÙØ¹ Ù…Ø´Ú©Ù„Ø§Øª Ø®ÙˆØ¯ Ø¨Ù‡ Ù¾Ø´ØªÛŒØ¨Ø§Ù†ÛŒ Ø±Ø¨Ø§Øª Ù…Ø±Ø§Ø¬Ø¹Ù‡ Ú©Ù†ÛŒØ¯ğŸ™‚</p>
      <br />
      <p>Ø¨Ø§ ØªØ´Ú©Ø± ØŒ ÙÙˆØ¯ Ø³Ù†ØªØ± ğŸŒ¹</p>
      <button class="yes" id="acceptBtn">âœ… Ù‚ÙˆØ§Ù†ÛŒÙ† Ø±Ø§ Ù…ÛŒâ€ŒÙ¾Ø°ÛŒØ±Ù…</button>
      <button class="no" id="rejectBtn">âŒ Ø±Ø¯ Ù…ÛŒâ€ŒÚ©Ù†Ù…</button>
    </div>
  </div>

  <script>
    if (window.Telegram && Telegram.WebApp) {
      Telegram.WebApp.ready();
    }

    async function sendData(status) {
      return new Promise((resolve, reject) => {
        try {
          Telegram.WebApp.sendData(status);
          resolve();
        } catch (e) {
          reject(e);
        }
      });
    }

    document.getElementById("acceptBtn").addEventListener("click", async () => {
      const btn = document.getElementById("acceptBtn");
      btn.innerText = "â³ Ø¯Ø± Ø­Ø§Ù„ Ù¾Ø±Ø¯Ø§Ø²Ø´...";
      btn.disabled = true;

      try {
        await sendData("accepted");

        document.getElementById("content").innerHTML = `
          <div class="message-box">âœ… Ù‚ÙˆØ§Ù†ÛŒÙ† Ù¾Ø°ÛŒØ±ÙØªÙ‡ Ø´Ø¯ØŒ Ø®Ø±ÛŒØ¯ Ø®ÙˆØ¨ÛŒ Ø¯Ø§Ø´ØªÙ‡ Ø¨Ø§Ø´ÛŒØ¯ â¤ï¸</div>
        `;
      } catch (err) {
        console.error("âŒ Ø®Ø·Ø§ Ø¯Ø± Ø§Ø±Ø³Ø§Ù„:", err);
        btn.innerText = "âŒ Ø§Ø±Ø³Ø§Ù„ Ù†Ø§Ù…ÙˆÙÙ‚ØŒ Ø¯ÙˆØ¨Ø§Ø±Ù‡ ØªÙ„Ø§Ø´ Ú©Ù†";
        btn.disabled = false;
      }
    });

    document.getElementById("rejectBtn").addEventListener("click", () => {
      try {
        Telegram.WebApp.sendData("rejected");
        document.getElementById("content").innerHTML = `
          <div class="message-box" style="box-shadow: 0 0 20px #ff4d4d;">
            âŒ Ù‚ÙˆØ§Ù†ÛŒÙ† Ø±Ø¯ Ø´Ø¯ØŒ Ù†Ù…ÛŒâ€ŒØªÙˆØ§Ù†ÛŒØ¯ Ø§Ø² Ø±Ø¨Ø§Øª Ø§Ø³ØªÙØ§Ø¯Ù‡ Ú©Ù†ÛŒØ¯ âŒ
          </div>
        `;
      } catch (err) {
        console.error("âŒ Ø§Ø±Ø³Ø§Ù„ Ø±Ø¯ Ù†Ø§Ù…ÙˆÙÙ‚:", err);
      }
    });
  </script>
</body>
</html>
